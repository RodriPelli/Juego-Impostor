<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juego del Impostor</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
    h2 { text-align: center; }
    .screen { display: none; }
    .active { display: block; }
    button { padding: 10px 20px; margin: 5px; border-radius: 10px; border: none; background: #333; color: white; font-size: 16px; cursor: pointer; }
    input, select { padding: 10px; font-size: 16px; width: 100%; margin: 5px 0; }
    .player-btn { width: 100%; background: #007bff; }
    .back-btn { background: #666; }
  </style>
</head>
<body>
  <h2>Juego del Impostor</h2>

  <!-- Pantalla 1: Elegir categoría -->
  <div id="screen1" class="screen active">
    <h3>Elegí una categoría</h3>
    <select id="categorySelect">
      <option value="Comida">Comida</option>
      <option value="Animales">Animales</option>
      <option value="Objetos">Objetos</option>
      <option value="Lugares">Lugares</option>
    </select>
    <button onclick="goToScreen(2)">Siguiente</button>
  </div>

  <!-- Pantalla 2: Participantes -->
  <div id="screen2" class="screen">
    <h3>Ingresá los participantes</h3>
    <textarea id="playersInput" rows="6" placeholder="Un nombre por línea"></textarea>
    <button onclick="startGame()">Iniciar juego</button>
    <button class="back-btn" onclick="goToScreen(1)">Volver</button>
  </div>

  <!-- Pantalla 3: Lista de jugadores -->
  <div id="screen3" class="screen">
    <h3>Tocá tu nombre para ver tu palabra</h3>
    <div id="playersList"></div>
    <button class="back-btn" onclick="resetGame()">Reiniciar</button>
  </div>

  <!-- Pantalla 4: Palabra asignada -->
  <div id="screen4" class="screen">
    <h3 id="playerName"></h3>
    <h2 id="assignedWord" style="font-size: 32px; margin: 20px 0;"></h2>
    <button class="back-btn" onclick="backToPlayers()">Ocultar</button>
  </div>

<script>
  let players = [];
  let words = {
    "Comida": ["Pizza", "Hamburguesa", "Empanada", "Helado"],
    "Animales": ["Perro", "Gato", "Caballo", "Elefante"],
    "Objetos": ["Lámpara", "Mesa", "Teléfono", "Llave"],
    "Lugares": ["Playa", "Montaña", "Escuela", "Hospital"]
  };
  let impostorIndex = null;
  let secretWord = "";

  function goToScreen(n) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById('screen' + n).classList.add('active');
  }

  function startGame() {
    const raw = document.getElementById('playersInput').value.trim();
    if (!raw) return alert('Ingresá al menos un participante');

    players = raw.split(/\n+/).map(p => p.trim()).filter(p => p);
    if (players.length < 3) return alert('Mínimo 3 jugadores');

    const category = document.getElementById('categorySelect').value;
    const wordList = words[category];
    secretWord = wordList[Math.floor(Math.random() * wordList.length)];
    impostorIndex = Math.floor(Math.random() * players.length);

    renderPlayers();
    goToScreen(3);
  }

  function renderPlayers() {
    const container = document.getElementById('playersList');
    container.innerHTML = '';
    players.forEach((p, i) => {
      const btn = document.createElement('button');
      btn.textContent = p;
      btn.className = 'player-btn';
      btn.onclick = () => showWord(i);
      container.appendChild(btn);
    });
  }

  function showWord(i) {
    document.getElementById('playerName').textContent = players[i];
    if (i === impostorIndex) {
      document.getElementById('assignedWord').textContent = 'SOS EL IMPOSTOR';
    } else {
      document.getElementById('assignedWord').textContent = secretWord;
    }
    goToScreen(4);
  }

  function backToPlayers() {
    goToScreen(3);
  }

  function resetGame() {
    players = [];
    secretWord = "";
    impostorIndex = null;
    goToScreen(1);
  }
</script>

</body>
</html>

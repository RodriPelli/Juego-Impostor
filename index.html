<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Juego del Impostor</title>
<style>
    body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, #6a00ff, #ff008c);
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
    }

    .container {
        width: 90%;
        max-width: 450px;
        background: rgba(0, 0, 0, 0.35);
        padding: 25px;
        border-radius: 20px;
        backdrop-filter: blur(10px);
        box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);
        text-align: center;
        animation: fadeIn 0.5s ease;
    }

    h1, h2 {
        margin-bottom: 15px;
    }

    button {
        width: 100%;
        padding: 15px;
        margin: 10px 0;
        border: none;
        border-radius: 12px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        background: white;
        color: #6a00ff;
        transition: 0.2s ease;
    }

    button:hover {
        transform: scale(1.05);
        background: #ffd6f4;
    }

    input {
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        text-align: center;
    }

    .hidden {
        display: none;
    }

    @keyframes fadeIn {
        from {opacity: 0; transform: scale(0.95);} 
        to {opacity: 1; transform: scale(1);} 
    }
</style>
</head>
<body>
<div class="container" id="pantalla1">
    <h1>üé≠ Juego del Impostor</h1>
    <h2>Elige una categor√≠a</h2>
    <button onclick="seleccionarCategoria('Animales')">Animales</button>
    <button onclick="seleccionarCategoria('Comidas')">Comidas</button>
    <button onclick="seleccionarCategoria('Pa√≠ses')">Pa√≠ses</button>
    <button onclick="categoriaPersonalizada()">Personalizada ‚úèÔ∏è</button>
</div>

<div class="container hidden" id="pantallaPalabra">
    <h2 id="tituloCat"></h2>
    <input id="palabraPersonal" placeholder="Escribe la palabra secreta" />
    <button onclick="confirmarPalabra()">Confirmar palabra</button>
</div>

<div class="container hidden" id="pantalla2">
    <h2>Ingresa los participantes</h2>
    <input id="nombreJugador" placeholder="Nombre" />
    <button onclick="agregarJugador()">Agregar</button>
    <div id="listaJugadores"></div>
    <button onclick="empezarJuego()">Comenzar</button>
</div>

<div class="container hidden" id="pantalla3">
    <h2>Revelar palabra</h2>
    <div id="botonesJugadores"></div>
</div>

<div class="container hidden" id="pantalla4">
    <h1 id="mensajeJugador"></h1>
    <button onclick="volver()">Volver</button>
</div>

<script>
    let categoria = "";
    let palabra = "";
    let jugadores = [];
    let asignaciones = {};

    function seleccionarCategoria(cat) {
        categoria = cat;
        palabra = obtenerPalabra(cat);
        document.getElementById("pantalla1").classList.add("hidden");
        document.getElementById("pantalla2").classList.remove("hidden");
    }

    function obtenerPalabra(cat) {
        const listas = {
            Animales: ["Perro", "Gato", "Elefante", "Tibur√≥n"],
            Comidas: ["Pizza", "Hamburguesa", "Empanada", "Sushi"],
            Pa√≠ses: ["Argentina", "Brasil", "Espa√±a", "Jap√≥n"]
        };
        const arr = listas[cat];
        return arr[Math.floor(Math.random() * arr.length)];
    }

    function categoriaPersonalizada() {
        document.getElementById("pantalla1").classList.add("hidden");
        document.getElementById("pantallaPalabra").classList.remove("hidden");
        document.getElementById("tituloCat").innerText = "Palabra personal";
    }

    function confirmarPalabra() {
        palabra = document.getElementById("palabraPersonal").value.trim();
        if (!palabra) return alert("Escribe una palabra");

        document.getElementById("pantallaPalabra").classList.add("hidden");
        document.getElementById("pantalla2").classList.remove("hidden");
    }

    function agregarJugador() {
        let nombre = document.getElementById("nombreJugador").value.trim();
        if (!nombre) return;
        jugadores.push(nombre);
        document.getElementById("listaJugadores").innerHTML += `<p>‚Ä¢ ${nombre}</p>`;
        document.getElementById("nombreJugador").value = "";
    }

    function empezarJuego() {
        if (jugadores.length < 3) return alert("M√≠nimo 3 jugadores");

        let impostor = jugadores[Math.floor(Math.random() * jugadores.length)];

        jugadores.forEach(j => {
            asignaciones[j] = j === impostor ? "IMPOSTOR" : palabra;
        });

        document.getElementById("pantalla2").classList.add("hidden");
        document.getElementById("pantalla3").classList.remove("hidden");

        let div = document.getElementById("botonesJugadores");
        div.innerHTML = "";
        jugadores.forEach(j => {
            div.innerHTML += `<button onclick="mostrar('${j}')">${j}</button>`;
        });
    }

    function mostrar(nombre) {
        document.getElementById("mensajeJugador").innerText = asignaciones[nombre];
        document.getElementById("pantalla3").classList.add("hidden");
        document.getElementById("pantalla4").classList.remove("hidden");
    }

    function volver() {
        document.getElementById("pantalla4").classList.add("hidden");
        document.getElementById("pantalla3").classList.remove("hidden");
    }
</script>
</body>
</html>

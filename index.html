<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego del Impostor</title>

    <!-- Import Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>

/* ------------------------------
   SISTEMA DE TEMAS
--------------------------------*/

/* Tema claro */
:root {
  --bg: #ffffff;
  --text: #222;
  --card: #f1f1f1;
  --primary: #4a90e2;
  --accent: #6ac47e;
}

/* Tema oscuro */
.theme-dark {
  --bg: #0e0e0e;
  --text: #eaeaea;
  --card: #1c1c1c;
  --primary: #8ab4f8;
  --accent: #4dd0e1;
}

/* Tema colorido */
.theme-colorful {
  --bg: #fff8e8;
  --text: #222;
  --card: #ffe7a1;
  --primary: #ff7b72;
  --accent: #6bcdfd;
}

/* Aplicar variables */
body {
  background: var(--bg);
  color: var(--text);
  transition: background .3s, color .3s;
}

.container, .card, .panel {
  background: var(--card);
  color: var(--text);
  transition: background .3s, color .3s;
}

/* Botones */
button {
  background: var(--primary);
  border: none;
  color: #fff;
  padding: 14px 20px;
  border-radius: 12px;
  font-size: 17px;
  font-weight: bold;
  width: 100%;
  margin-top: 8px;
}

button:hover {
  opacity: .85;
}

/* Bot√≥n secundario */
button.secondary {
  background: var(--accent);
}

/* ---------------------------------------
   BASE COMPLETA / DISE√ëO GENERAL
---------------------------------------- */

:root{
  --bg: #f7fbff;
  --card: #ffffff;
  --accent: #44aaff;
  --accent-2: #7bd3ff;
  --text: #062a44;
  --muted: #557286;
  --success: #2ecc71;
  --danger: #ff6b6b;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; padding:18px;
  font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg,var(--bg),#eef7ff);
  color:var(--text);
  display:flex;
  justify-content:center;
}

/* CONTENEDOR */
.container{
  width:100%;
  max-width:720px;
  background: var(--card);
  border-radius:14px;
  box-shadow: 0 18px 60px rgba(10,30,60,0.06);
  padding:16px;
  margin-bottom:24px;
}

/* TITULOS */
.title{ font-size:20px; font-weight:800; color:var(--text); margin-bottom:6px }
.subtitle{ font-size:15px; color:var(--muted); margin-bottom:12px }

/* TARJETAS */
.card{
  background: linear-gradient(180deg,#fff,#fbfdff);
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(10,40,80,0.03);
  box-shadow: 0 6px 20px rgba(8,30,60,0.03);
}

/* INPUTS */
.input, select, textarea{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(15,50,90,0.06);
  font-size:14px;
  color:var(--text);
  background: #fff;
}
textarea{ min-height:120px; resize:vertical }

/* BOTONES */
.btn{
  display:inline-block;
  padding:12px 14px;
  border-radius:12px;
  border:none;
  background: linear-gradient(90deg,var(--accent-2),var(--accent));
  color:#00223a;
  font-weight:800;
  cursor:pointer;
  font-size:14px;
  width:100%;
  box-shadow: 0 8px 24px rgba(68,170,255,0.08);
}
.btn.secondary{
  background:#fff;
  border:1px solid rgba(10,40,80,0.06);
  color:var(--text);
}
.btn.small{ padding:10px; font-size:13px; width:auto }

/* GRID DE JUGADORES */
.players-grid{
  display:grid;
  grid-template-columns: repeat(2,1fr);
  gap:8px;
  margin-top:8px;
}
@media (max-width:520px){
  .players-grid{ grid-template-columns:1fr }
}

.player-btn{
  padding:12px;
  border-radius:10px;
  background: linear-gradient(180deg,#f0fbff,#eef9ff);
  border:1px solid rgba(10,70,110,0.04);
  cursor:pointer;
  font-weight:700;
  text-align:left;
}

/* CAJA DE PALABRA / IMPOSTOR */
.revealBox{
  padding:18px;
  border-radius:12px;
  background: linear-gradient(180deg,#fff7e6,#fffaf0);
  border:1px solid rgba(10,40,80,0.04);
  font-weight:900;
  font-size:20px;
  text-align:center;
  min-height:70px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* PREVIEW */
.preview{ display:flex; flex-wrap:wrap; gap:8px; margin-top:8px }
.preview .tag{
  padding:6px 10px;
  border-radius:8px;
  background:linear-gradient(90deg,#ecf9ff,#f8fbff);
  font-size:13px;
  border:1px solid rgba(10,70,110,0.04)
}

/* FOOTER */
.footer{
  position:fixed;
  left:0;
  right:0;
  bottom:6px;
  display:flex;
  justify-content:center;
  pointer-events:none;
}
.footer .inner{
  background:transparent;
  color:var(--muted);
  font-size:13px;
  pointer-events:auto;
  padding:6px 12px;
  border-radius:10px;
}

/* TEMA COLORIDO */
body.theme-colorful{
  background: linear-gradient(180deg,#fff0f7,#f0fff4);
}
body.theme-colorful .container{
  background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.85));
  backdrop-filter: blur(6px);
}
body.theme-colorful .btn{
  background: linear-gradient(90deg,#ff6f61,#ffca28);
  color:#fff;
}
body.theme-colorful .player-btn{
  background: linear-gradient(90deg,#fff0f6,#fff7ea);
  border:1px solid rgba(255,110,97,0.08)
}
body.theme-colorful .preview .tag{
  background: linear-gradient(90deg,#fff0f6,#fff7ea);
  border:1px solid rgba(255,110,97,0.08)
}
body.theme-colorful .revealBox{
  background: linear-gradient(90deg,#fff7e6,#fff1f8)
}

/* ===========================
   RESPONSIVE FIX DEFINITIVO
   =========================== */
@media (max-width: 768px) {

  body {
    padding: 10px;
    display: block;
  }

  .container {
    width: 100%;
    margin: 0 auto 20px auto;
  }

  /* TODAS LAS SECCIONES A BLOQUE */
  .section,
  .step,
  .panel,
  .config-box,
  .players-grid-box {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto 20px auto !important;
    display: block !important;
  }

  /* BOTONES */
  .btn,
  button {
    width: 100% !important;
    margin: 10px 0 !important;
  }

  /* INPUTS */
  select,
  input,
  textarea {
    width: 100% !important;
  }

  /* GRILLA */
  .players-grid {
    grid-template-columns: 1fr !important;
  }

  /* FOOTER */
  .footer {
    position: relative !important;
    bottom: 0 !important;
    margin-top: 40px !important;
  }
}

.theme-box {
  margin: 15px auto;
  text-align: center;
}

.theme-box select {
  padding: 10px;
  font-size: 16px;
  border-radius: 12px;
  background: var(--card);
  color: var(--text);
  border: 2px solid var(--primary);
}

</style>


</head>

<body>

    <div class="container" id="mainScreen">

        <h1 class="title">üé≠ Juego del Impostor</h1>
<div class="theme-box">
  <label for="themeSelect"><b>Tema:</b></label>
  <select id="themeSelect">
    <option value="light">Claro</option>
    <option value="dark">Oscuro</option>
    <option value="colorful">Colorido</option>
  </select>
</div>
        <div class="card fade">
            <label class="label">Selecciona una categor√≠a:</label>

            <select id="categorySelect" class="input"></select>

            <button class="btn color" id="randomBtn">Aleatorio üé≤</button>

            <button class="btn" id="nextToPlayers">Continuar ‚ûú</button>
        </div>
    </div>


    <!-- ======================================= -->
    <!--        PANTALLA INGRESAR JUGADORES       -->
    <!-- ======================================= -->

    <div class="container hidden fade" id="playerScreen">
        <h2 class="subtitle">Ingres√° los jugadores</h2>

        <div id="playerInputs"></div>

        <button class="btn small" id="addPlayer">Agregar jugador ‚ûï</button>

        <button class="btn" id="assignRoles">Asignar roles y palabra</button>
        <button class="btn back" id="backToMain">‚¨Ö Volver</button>
    </div>


    <!-- ======================================= -->
    <!--      LISTA DE JUGADORES PARA MIRAR      -->
    <!-- ======================================= -->

    <div class="container hidden fade" id="revealListScreen">
        <h2 class="subtitle">Toca tu nombre</h2>

        <div id="playerButtons"></div>

        <button class="btn back" id="resetGame">Reiniciar juego</button>
    </div>


    <!-- ======================================= -->
    <!--  PANTALLA DE PALABRA / IMPOSITOR SECRETO -->
    <!-- ======================================= -->

    <div class="container hidden fade" id="revealScreen">
        <div id="revealText" class="revealBox"></div>

        <button class="btn" id="backToList">‚úî Listo</button>
    </div>


    <!-- ======================================= -->
    <!--                   FOOTER                 -->
    <!-- ======================================= -->

    <footer class="footer">
        Hecho con ü§ç
    </footer>

    <script>
/* ============================
   Juego del Impostor ‚Äî L√≥gica
   ============================ */

/* ---------- 20 categor√≠as √ó 20 palabras ---------- */
const CATEGORIES = {
  "Comidas Argentinas":[
    "Asado","Empanada","Milanesa","Fugazzeta","Pizza al molde","Locro","Humita","Chorip√°n","Provoleta","√ëoquis",
    "Canelones","Matambre","Tarta de jam√≥n","Pastel de papas","Sorrentinos","Tarta Pascualina","Panchos","Milanesa napolitana","Guiso de lentejas","Torta frita"
  ],
  "Postres y Facturas":[
    "Dulce de leche","Alfajor","Chocotorta","Flan","Helado","Medialuna","Pastafrola","Torta Rogel","Pionono","Brownie",
    "Bud√≠n","Panqueque","Lemon pie","Mousse","Galletitas","Profiteroles","Semifreddo","Tarta de ricota","Pan dulce","Masas finas"
  ],
  "Bebidas y Mate":[
    "Mate","Yerba","Fernet","Coca-Cola","Gancia","Vino tinto","Cerveza","Sidra","Agua","Jugo",
    "Caf√©","Capuchino","T√©","Submarino","Leche","Batido","Clericot","Malteada","Jugo de naranja","Campari"
  ],
  "Lugares Argentinos":[
    "Bariloche","Mar del Plata","Mendoza","C√≥rdoba","Salta","Jujuy","Iguaz√∫","Ushuaia","El Calafate","La Plata",
    "Rosario","Tandil","San Juan","San Luis","Corrientes","Posadas","Neuqu√©n","Puerto Madryn","Trelew","Paran√°"
  ],
  "Provincias":[
    "Buenos Aires","CABA","Santa Fe","Mendoza","Tucum√°n","Salta","Jujuy","Misiones","Chaco","Formosa",
    "Corrientes","Entre R√≠os","San Luis","San Juan","La Rioja","Catamarca","Neuqu√©n","R√≠o Negro","Chubut","Santa Cruz"
  ],
  "Equipos de F√∫tbol":[
    "Boca Juniors","River Plate","Racing Club","Independiente","San Lorenzo","Estudiantes","Gimnasia","Newell's","Rosario Central","Talleres",
    "Belgrano","Lan√∫s","Argentinos Juniors","V√©lez","Hurac√°n","Col√≥n","Uni√≥n","Defensa y Justicia","Banfield","Tigre"
  ],
  "M√∫sica Argentina":[
    "Soda Stereo","Charly Garc√≠a","Fito P√°ez","Spinetta","Los Fabulosos Cadillacs","Andr√©s Calamaro","Patricio Rey","Babasonicos","La Renga","Los Aut√©nticos Decadentes",
    "Duki","WOS","Bizarrap","Tini","Lali","Sandro","Mercedes Sosa","Atahualpa","Ciro","Los Pericos"
  ],
  "Programas y Series":[
    "Casados con Hijos","ShowMatch","Gran Hermano","Los Simuladores","Casi √Ångeles","Okupas","El Marginal","MasterChef","Bake Off","Pasapalabra",
    "Graduados","Mi amor mi amor","Avenida Brasil","Intrusos","Pol√©mica en el Bar","Telefe Noticias","TN","La Pe√±a del Morfi","El Host","Okupas 2"
  ],
  "Cosas del Hogar":[
    "Heladera","Cocina","Microondas","Televisor","Silla","Mesa","Cama","Almohada","S√°banas","Toalla",
    "Ducha","Lavarropa","Plancha","Tostadora","L√°mpara","Espejo","Cortinas","Ventana","Puerta","Bacha"
  ],
  "Objetos Personales":[
    "Celular","Cargador","Auriculares","Control remoto","Llave","Mochila","Bolso","Reloj","Anteojos","Billetera",
    "Cartera","Diadema","Parlante","C√°mara","Zapatos","Zapatillas","Pulsera","Sombrero","Bufanda","Cintur√≥n"
  ],
  "Animales":[
    "Perro","Gato","Caballo","Vaca","Oveja","Gallina","Conejo","Tortuga","Loro","Delf√≠n",
    "Tibur√≥n","Mono","Le√≥n","Tigre","Zorro","Lobo","Hur√≥n","Puma","Ping√ºino","Cebra"
  ],
  "Profesiones":[
    "Doctor","Enfermero","Maestro","Profesor","Abogado","Ingeniero","Arquitecto","Plomero","Electricista","Carpintero",
    "Cocinero","Panadero","Periodista","Actor","Cantante","Bailar√≠n","Dise√±ador","Fot√≥grafo","Dentista","Farmac√©utico"
  ],
  "Transporte":[
    "Colectivo","Subte","Tren","Auto","Remis","Taxi","Bicicleta","Moto","Avi√≥n","Barco",
    "Ferry","Cami√≥n","Patineta","Monopat√≠n","Metrobus","Cabify","Uber","Helic√≥ptero","Tranv√≠a","Furg√≥n"
  ],
  "Ropa y Accesorios":[
    "Remera","Camisa","Pantal√≥n","Short","Pollera","Vestido","Zapatos","Zapatillas","Medias","Buzo",
    "Campera","Gorro","Bufanda","Cintur√≥n","Corbata","Ojotas","Pijama","Traje","Saco","Chaleco"
  ],
  "Frutas y Verduras":[
    "Manzana","Banana","Naranja","Mandarina","Pomelo","Pera","Durazno","Ciruela","Cereza","Uva",
    "Mel√≥n","Sand√≠a","Kiwi","Anan√°","Tomate","Lechuga","Zanahoria","Papa","Cebolla","Ajo"
  ],
  "Herramientas":[
    "Martillo","Destornillador","Taladro","Sierra","Alicate","Llave inglesa","Regla","Cinta m√©trica","Nivel","Cizalla",
    "Lima","Form√≥n","Cepillo","Pernos","Tornillos","Clavos","Broca","Sierra de mano","Engrampadora","Soplete"
  ],
  "Juegos y Pasatiempos":[
    "Ajedrez","Domin√≥","Truco","Cartas","Metegol","PlayStation","Xbox","Nintendo","Monopoly","Scrabble",
    "Pictionary","Jenga","Bingo","Puzzle","Naipes","Penal","Ruleta","Solitario","Saltar la soga","Damas"
  ],
  "Tecnolog√≠a y Apps":[
    "WhatsApp","Instagram","Facebook","TikTok","YouTube","Mercado Libre","Google Maps","Waze","Spotify","Netflix",
    "Zoom","Meet","Telegram","Homebanking","Mercadopago","GitHub","Trello","Slack","Notion","Discord"
  ],
  "Pel√≠culas y Cine":[
    "Relatos salvajes","El secreto de sus ojos","Nueve reinas","La odisea de los giles","El clan","El hijo de la novia","Cuna de lobos","Okupas","El marginal","Volver",
    "La historia oficial","El aura","El abrazo partido","Relatos 2","El secreto de Mar","El corredor","La odisea","El m√©dico","El abrazo","El aura 2"
  ]
};

/* ---------- State ---------- */
let state = {
  secretWord: null,
  categoryWasRandom: false,
  players: [],
  timer: 6,
  roundActive: false
};

/* ---------- DOM refs ---------- */
const mainScreen = document.getElementById('mainScreen');
const playerScreen = document.getElementById('playerScreen');
const revealListScreen = document.getElementById('revealListScreen');
const revealScreen = document.getElementById('revealScreen');

const categorySelect = document.getElementById('categorySelect');
const randomBtn = document.getElementById('randomBtn');
const nextToPlayers = document.getElementById('nextToPlayers');
const playersTextarea = document.getElementById('playersTextarea');
const playerInputs = document.getElementById('playerInputs');
const addPlayerBtn = document.getElementById('addPlayer');
const assignRolesBtn = document.getElementById('assignRoles');
const backToMain = document.getElementById('backToMain');
const playerButtonsDiv = document.getElementById('playerButtons');
const resetGameBtn = document.getElementById('resetGame');

const revealText = document.getElementById('revealText');
const backToList = document.getElementById('backToList');

const timerInput = document.getElementById('timerInput');
const previewCard = document.getElementById('previewCard');
const previewWords = document.getElementById('previewWords');

const themeSelect = document.getElementById('themeSelect');

/* ---------- Initialize UI ---------- */
function init(){
  Object.keys(CATEGORIES).forEach(cat=>{
    const o = document.createElement('option'); 
    o.value = cat; 
    o.textContent = cat;
    categorySelect.appendChild(o);
  });
  categorySelect.value = Object.keys(CATEGORIES)[0];
  updatePreview();

  randomBtn.addEventListener('click', onRandom);
  nextToPlayers.addEventListener('click', ()=> showScreen('playerScreen'));
  addPlayerBtn.addEventListener('click', addPlayerInput);
  assignRolesBtn.addEventListener('click', assignRoles);
  backToMain.addEventListener('click', ()=> showScreen('mainScreen'));
  resetGameBtn.addEventListener('click', resetAll);

  categorySelect.addEventListener('change', updatePreview);

  backToList.addEventListener('click', ()=> showScreen('revealListScreen'));
}
init();

/* ---------- Screen helper ---------- */
function showScreen(id){
  ['mainScreen','playerScreen','revealListScreen','revealScreen']
    .forEach(sc => document.getElementById(sc).classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

/* ---------- Preview ---------- */
function updatePreview(){
  previewWords.innerHTML = '';
  const cat = categorySelect.value;
  CATEGORIES[cat].slice(0,20).forEach(w=>{
    const s = document.createElement('span');
    s.className = 'tag';
    s.textContent = w;
    previewWords.appendChild(s);
  });
}

/* ---------- Random word ---------- */
function onRandom(){
  const cats = Object.keys(CATEGORIES);
  const c = cats[Math.floor(Math.random()*cats.length)];
  state.secretWord = randomFrom(CATEGORIES[c]);
  state.categoryWasRandom = true;
  alert('Palabra seleccionada al azar. Continu√° con los jugadores.');
}

/* ---------- Player inputs ---------- */
function addPlayerInput(){
  const row = document.createElement('div');
  row.style.display='flex';
  row.style.gap='8px';
  row.style.marginTop='8px';

  const inp = document.createElement('input');
  inp.type='text';
  inp.placeholder='Nombre del jugador';
  inp.className='input';
  inp.style.flex='1';

  const rm = document.createElement('button');
  rm.textContent='Eliminar';
  rm.className='btn small secondary';
  rm.onclick=()=> row.remove();

  row.appendChild(inp);
  row.appendChild(rm);
  playerInputs.appendChild(row);
}

/* ---------- Collect players ---------- */
function collectPlayers(){
  let arr = [];

  playerInputs.querySelectorAll('input').forEach(i=>{
    const v=i.value.trim();
    if(v) arr.push(v);
  });

  const txt = playersTextarea.value.trim();
  if(txt){
    txt.split(/\n+/).forEach(n=>{
      if(n.trim() && !arr.includes(n.trim())) arr.push(n.trim());
    });
  }
  return arr;
}

/* ---------- Assign roles ---------- */
function assignRoles(){
  const players = collectPlayers();
  if(players.length < 3){ alert('M√≠nimo 3 jugadores.'); return; }

  let impostorCount = parseInt(prompt('¬øCu√°ntos impostores? (1 o 2)','1'));
  if(isNaN(impostorCount) || impostorCount < 1) impostorCount = 1;
  if(impostorCount >= players.length){
    alert('Los impostores deben ser menos que los jugadores.');
    return;
  }

  const t = parseInt(timerInput.value,10);
  state.timer = isNaN(t) ? 0 : t;

  if(!state.secretWord){
    const cat = categorySelect.value;
    state.secretWord = randomFrom(CATEGORIES[cat]);
  }

  const idxs = players.map((_,i)=>i).sort(()=>Math.random()-0.5);
  const impostorIdx = idxs.slice(0,impostorCount);

  state.players = players.map((n,i)=>({
    name:n,
    role:impostorIdx.includes(i) ? 'IMPOSTOR':'WORD',
    seen:false
  }));

  state.roundActive = true;
  renderPlayersList();
  showScreen('revealListScreen');
}

/* ---------- Render list ---------- */
function renderPlayersList(){
  playerButtonsDiv.innerHTML = '';
  state.players.forEach((p,i)=>{
    const b = document.createElement('button');
    b.className='player-btn';
    b.textContent = p.name + (p.seen ? ' ‚Ä¢ VISTO':'');
    b.onclick=()=> openPlayerReveal(i);
    playerButtonsDiv.appendChild(b);
  });
}

/* ---------- Reveal flow ---------- */
let revealTimeout=null;

function openPlayerReveal(i){
  if(!state.roundActive) return;

  const p = state.players[i];
  revealText.textContent = (p.role==='IMPOSTOR') ? 'SOS EL IMPOSTOR üòà' : state.secretWord;

  p.seen = true;
  renderPlayersList();

  showScreen('revealScreen');

  clearTimeout(revealTimeout);
  if(state.timer > 0){
    revealTimeout = setTimeout(()=>{
      showScreen('revealListScreen');
      autoOpenNextUnseen();
    }, state.timer*1000);
  }
}

/* ---------- Auto open next ---------- */
function autoOpenNextUnseen(){
  const next = state.players.findIndex(p=>!p.seen);
  if(next === -1){ finishRound(); return; }
  setTimeout(()=> openPlayerReveal(next), 350);
}

/* ---------- Finish round ---------- */
function finishRound(){
  state.roundActive = false;
  alert('Ronda finalizada.');
}

/* ---------- Reset ---------- */
function resetAll(){
  if(!confirm('¬øReiniciar partida?')) return;
  state = { secretWord:null, categoryWasRandom:false, players:[], timer:6, roundActive:false };

  playerInputs.innerHTML='';
  playersTextarea.value='';
  playerButtonsDiv.innerHTML='';
  previewWords.innerHTML='';

  showScreen('mainScreen');
}

/* ---------- Utils ---------- */
function randomFrom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

/* ---------- Escape key ---------- */
document.addEventListener('keydown',e=>{
  if(e.key==='Escape'){
    if(!revealScreen.classList.contains('hidden')){
      showScreen('revealListScreen');
    }
  }
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Juego del Impostor ‚Äî Simple</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">



<style>
  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: "Poppins", sans-serif;
    background: #050505;
    color: #fff;
    display: flex;
    justify-content: center;
  }

  /* === CONTENEDOR GENERAL === */
  .container {
    width: 100%;
    max-width: 650px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  h1, h2, h3 {
    text-align: center;
    margin: 0;
    padding-bottom: 10px;
  }

  /* === SECCIONES / BLOQUES === */
  .section {
    background: #111;
    padding: 22px;
    border-radius: 16px;
    box-shadow: 0 0 12px #00ffd544;
    display: flex;
    flex-direction: column;
    gap: 18px;
    animation: fadeIn 0.4s ease-in-out;
  }

  /* === BOTONES === */
  button {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 12px;
    font-size: 1.2rem;
    font-weight: 700;
    background: linear-gradient(45deg, #00ffc8, #0088ff);
    color: #000;
    cursor: pointer;
    transition: 0.25s;
  }

  button:hover {
    transform: scale(1.05);
    opacity: 0.9;
  }

  /* === INPUTS & SELECT === */
  select, input {
    width: 100%;
    padding: 13px;
    border-radius: 12px;
    border: none;
    font-size: 1.05rem;
  }

  /* === LISTA DE JUGADORES === */
  .players-list {
    background: #0d0d0d;
    padding: 16px;
    border-radius: 16px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: 600;
    box-shadow: 0 0 10px #00c8ff66;
  }

  .player-button {
    padding: 14px;
    margin: 8px 0;
    border-radius: 14px;
    background: #1c1c1c;
    border: 2px solid #00ffc877;
    font-size: 1.1rem;
    cursor: pointer;
    transition: 0.2s;
  }

  .player-button:hover {
    background: #00ffc822;
    transform: scale(1.03);
  }

  /* === PALABRA MOSTRADA === */
  .word-box {
    background: #0e0e0e;
    padding: 25px;
    border-radius: 18px;
    text-align: center;
    font-size: 1.6rem;
    font-weight: 700;
    box-shadow: 0 0 14px #00ffd544;
    animation: pop 0.35s ease-out;
  }

  /* === OCULTO === */
  .hidden-screen {
    display: none;
  }

  /* === ANIMACIONES === */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes pop {
    0% { transform: scale(0.6); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  /* === RESPONSIVE === */
  @media (max-width: 480px) {
    h1 { font-size: 1.6rem; }
    h2 { font-size: 1.3rem; }
    h3 { font-size: 1.1rem; }

    .section {
      padding: 16px;
      gap: 14px;
    }

    button {
      padding: 12px;
      font-size: 1rem;
    }

    .word-box {
      font-size: 1.25rem;
      padding: 20px;
    }

    .player-button {
      font-size: 1rem;
      padding: 10px;
    }
  }

  @media (min-width: 768px) {
    .container {
      max-width: 720px;
    }

    .section {
      padding: 26px;
    }

    button {
      font-size: 1.3rem;
      padding: 16px;
    }
  }

  @media (min-width: 1024px) {
    .container {
      max-width: 850px;
    }
  }

</style>





</head>
<body>
  <div class="app" id="app">
    <header class="app-header" style="grid-column:1/-1">
      <div>
        <h1>üé≠ Juego del Impostor</h1>
        <p>Todo en una sola pantalla: eleg√≠ categor√≠a, pon√© jugadores y revelen en el mismo celular.</p>
      </div>
     

    <!-- LEFT: controls -->
    <div class="panel controls">
      <div class="card">
        <label for="categorySelect">Categor√≠a seleccionada</label>
        <div id="selectedCategory" style="padding:10px;border-radius:10px;background:var(--glass);font-weight:700">Ninguna</div>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="btn" id="btnStartPlayers">Ingresar jugadores</button>
          <button class="btn secondary" id="btnReset" title="Reiniciar todo">Reiniciar</button>
        </div>
      </div>

      <div class="card" id="playersCard" style="display:none">
        <label>Jugadores (un nombre por l√≠nea)</label>
        <textarea id="playersInput" rows="6" placeholder="Ej: Mar√≠a&#10;Juan&#10;Paula" style="resize:none"></textarea>

        <label style="margin-top:6px">Cantidad de impostores</label>
        <select id="impostorsSelect">
          <option value="1">1 impostor</option>
          <option value="2">2 impostores</option>
        </select>

        <div style="display:flex;gap:8px;margin-top:8px">
          <button class="btn" id="btnAssign">Asignar roles</button>
          <button class="btn secondary" id="btnCancelPlayers">Cancelar</button>
        </div>
      </div>

      <div class="card" id="playersListCard" style="display:none">
        <label>Lista de jugadores</label>
        <div class="players-list" id="playersList"></div>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="btn" id="btnNewRound">Nueva ronda</button>
        </div>
      </div>

      <div class="card">
        <label>Instrucciones r√°pidas</label>
        <ol style="padding-left:18px;margin:8px 0 0 0;font-size:14px;line-height:1.4;opacity:0.95">
          <li>Eleg√≠ categor√≠a desde la lista derecha.</li>
          <li>Ingres√° jugadores y eleg√≠ 1 o 2 impostores.</li>
          <li>Toc√° cada nombre para ver la palabra (o impostor).</li>
          <li>Volv√© para que el siguiente vea su palabra.</li>
        </ol>
      </div>
    </div>

    <!-- RIGHT: categories + words preview -->
    <div class="panel right">
      <div class="card">
        <label>Buscar categor√≠a</label>
        <input id="searchCat" type="text" placeholder="Buscar... (ej: comidas, f√∫tbol, lugares)" />
      </div>

      <div class="card">
        <label>Categor√≠as</label>
        <div style="margin-top:10px" class="categories-grid" id="categoriesGrid"></div>
      </div>

      <div class="card" id="previewCard" style="display:none">
        <label>Vista r√°pida ‚Äî palabras de la categor√≠a</label>
        <div id="previewWords" style="display:flex;flex-wrap:wrap;gap:8px;margin-top:10px"></div>
      </div>
    </div>

  </div>

  <!-- reveal modal -->
  <div id="revealModal" class="reveal" style="display:none">
    <h2 id="revealName">Nombre</h2>
    <div id="revealRole" class="role">Palabra</div>
    <div style="display:flex;gap:8px">
      <button class="btn" id="btnHideReveal">Ocultar</button>
      <button class="btn secondary" id="btnEndRound">Finalizar ronda</button>
    </div>
  </div>

  <footer class="small" style="grid-column:1/-1">Hecho con ‚ù§Ô∏è</footer>

<script>
/* ============================
   Simple, offline version
   20 categories √ó 20 words each (argentina-oriented)
   ============================ */

const CATEGORIES = {
  "Comidas Argentinas": [
    "Asado","Empanada","Milanesa","Fugazzeta","Pizza al molde","Locro","Humita","Tortilla",
    "Chorip√°n","Bondiola","√ëoquis","Canelones","Matambre","Provoleta","Ensalada rusa",
    "Guiso","Ravioles","Sorrentinos","Tarta de jam√≥n","Pastel de papas"
  ],
  "Postres & Facturas": [
    "Dulce de leche","Alfajor","Pastafrola","Chocotorta","Flan","Helado","Factura medialuna",
    "Pionono","Brownie","Torta Rogel","Masas finas","Crema pastelera","Bud√≠n","Panqueque",
    "Lemon pie","Mousse","Galletitas","Profiteroles","Semifreddo","Tarta de ricota"
  ],
  "Bebidas & Mate": [
    "Mate","Yerba","Fernet","Coca Cola","Gancia","Vino tinto","Vino blanco","Cerveza",
    "Agua","Jugo natural","Caf√©","Capuchino","T√©","Chamomile","Submarino","Leche",
    "Batido","Jugo de naranja","Sidra","Clericot"
  ],
  "Lugares Argentinos": [
    "Bariloche","Mar del Plata","Mendoza","C√≥rdoba","Salta","Jujuy","Iguaz√∫","Ushuaia",
    "El Calafate","La Plata","Rosario","Tandil","San Juan","San Luis","Corrientes",
    "Posadas","Neuqu√©n","Trelew","Puerto Madryn","Paran√°"
  ],
  "Provincias & Ciudades": [
    "Buenos Aires (provincia)","Ciudad Aut√≥noma de Buenos Aires","Santa Fe","Mendoza",
    "Tucum√°n","Salta","Jujuy","Misiones","Chaco","Formosa","Corrientes","Entre R√≠os",
    "San Luis","San Juan","La Rioja","Catamarca","Neuqu√©n","R√≠o Negro","Chubut","Santa Cruz"
  ],
  "Equipos de F√∫tbol": [
    "Boca Juniors","River Plate","Racing Club","Independiente","San Lorenzo",
    "Estudiantes","Gimnasia y Esgrima","Newell's Old Boys","Rosario Central",
    "Talleres","Belgrano","Lan√∫s","Argentinos Juniors","V√©lez Sarsfield",
    "Hurac√°n","Col√≥n","Uni√≥n","Defensa y Justicia","Banfield","Tigre"
  ],
  "M√∫sica Argentina": [
    "Soda Stereo","Charly Garc√≠a","Fito P√°ez","Spinetta","Los Fabulosos Cadillacs",
    "Patricio Rey","Andr√©s Calamaro","Luis Alberto Spinetta","Los Pericos","La Renga",
    "Los Aut√©nticos Decadentes","Babasonicos","Duki","Wos","SOLO","Tini Stoessel",
    "Lali","Sandro","Mercedes Sosa","Atahualpa Yupanqui"
  ],
  "Programas de TV": [
    "Casados con Hijos","ShowMatch","Gran Hermano","Los Simuladores","Casi √Ångeles",
    "Pol√©mica en el Bar","Intrusos","MasterChef","Bake Off","Pasapalabra",
    "Cocineros Argentinos","Telefe Noticias","TN","El Trece Noticias","La Pe√±a del Morfi",
    "El Marginal","Graduados","Mi amor, mi amor","Avenida Brasil","Okupas"
  ],
  "Cosas de la Casa": [
    "Heladera","Cocina","Microondas","Televisor","Silla","Mesa","Cama","Almohada",
    "S√°banas","Toalla","Ducha","Bacha","Lavarropa","Plancha","Tostadora","L√°mpara",
    "Espejo","Cortinas","Ventana","Puerta"
  ],
  "Objetos Varios": [
    "Celular","Cargador","Auriculares","Control remoto","Llave","Mochila","Bolso",
    "Parlante","Bicicleta","Monopat√≠n","Reloj","Cuchillo","Taza","Vaso","Libro",
    "Cuaderno","Bol√≠grafo","C√°mara","Lupa","Sombrero"
  ],
  "Animales": [
    "Perro","Gato","Caballo","Vaca","Oveja","Gallina","Conejo","Tortuga","Loro",
    "Delf√≠n","Tigre","Le√≥n","Mono","Zorro","H√°mster","Pez","Gorila","Cebra","Ping√ºino","Serpiente"
  ],
  "Profesiones": [
    "Doctor","Enfermero","Maestro","Profesor","Abogado","Arquitecto","Ingeniero",
    "Carpintero","Electricista","Plomero","Cocinero","Panadero","Farmac√©utico",
    "Periodista","Actor","Actriz","Cantante","Dentista","Dise√±ador","Fot√≥grafo"
  ],
  "Transporte": [
    "Colectivo","Subte","Tren","Auto","Rem√≠s","Taxi","Bicicleta","Moto","Avi√≥n",
    "Barco","Ferry","Cami√≥n","Tr√°iler","Patineta","Monopat√≠n","Metrobus","Tranv√≠a","Helic√≥ptero","Cabify","Uber"
  ],
  "Ropa & Accesorios": [
    "Camisa","Remera","Pantal√≥n","Short","Pollera","Vestido","Zapatos","Zapatillas",
    "Medias","Buzo","Campera","Gorro","Bufanda","Cintur√≥n","Corbata","Ojotas","Sandalias","Bata","Pijama","Anteojos"
  ],
  "Frutas & Verduras": [
    "Manzana","Banana","Naranja","Mandarina","Pomelo","Pera","Durazno","Ciruela",
    "Cereza","Uva","Mel√≥n","Sand√≠a","Kiwi","Anan√°","Tomate","Lechuga","Zanahoria","Papa","Cebolla","Ajo"
  ],
  "Herramientas": [
    "Martillo","Destornillador","Taladro","Sierra","Alicate","Llave inglesa","Regla",
    "Cinta m√©trica","Nivel","Cizalla","Lima","Form√≥n","Cepillo","Pernos","Tornillos","Clavos","Broca","Sierra de mano","Caja de herramientas","Engrampadora"
  ],
  "Juegos & Pasatiempos": [
    "Ajedrez","Domin√≥","Cartas","Truco","Penal","F√∫tbol de mesa","Metegol","Ruleta",
    "Bingo","Pictionary","Scrabble","Monopoly","Ludo","Videojuegos","PlayStation","Xbox","PC Gaming","Naipes","Solitario","Jenga"
  ],
  "Tecnolog√≠a & Apps": [
    "WhatsApp","Instagram","Facebook","Twitter","TikTok","YouTube","Mercado Libre",
    "Pago F√°cil","Homebanking","Banco","Spotify","Netflix","Zoom","Meet","Telegram",
    "Google Maps","Waze","Mercadopago","CABAL","Garbarino"
  ],
  "Pel√≠culas & Series": [
    "Relatos salvajes","El secreto de sus ojos","Nueve reinas","Camila","El hijo de la novia",
    "La odisea de los giles","El clan","Historia de un clan","El secreto","Los son√°mbulos",
    "Okupas","El marginal","Cuna de Lobos","Sabrina","Stranger Things","La casa de papel","Gladiador","Titanic","Volver","Pulp Fiction"
  ]
};

/* ---------- state ---------- */
let state = {
  category: null,
  players: [],      // array of {name, role}
  secretWord: null,
  impostorCount: 1,
  currentRevealIndex: 0,
  active: false
};

/* ---------- DOM refs ---------- */
const categoriesGrid = document.getElementById('categoriesGrid');
const selectedCategoryEl = document.getElementById('selectedCategory');
const previewCard = document.getElementById('previewCard');
const previewWords = document.getElementById('previewWords');
const searchInput = document.getElementById('searchCat');

const btnStartPlayers = document.getElementById('btnStartPlayers');
const btnReset = document.getElementById('btnReset');

const playersCard = document.getElementById('playersCard');
const playersInput = document.getElementById('playersInput');
const btnAssign = document.getElementById('btnAssign');
const btnCancelPlayers = document.getElementById('btnCancelPlayers');
const impostorsSelect = document.getElementById('impostorsSelect');

const playersListCard = document.getElementById('playersListCard');
const playersList = document.getElementById('playersList');
const btnNewRound = document.getElementById('btnNewRound');

const revealModal = document.getElementById('revealModal');
const revealName = document.getElementById('revealName');
const revealRole = document.getElementById('revealRole');
const btnHideReveal = document.getElementById('btnHideReveal');
const btnEndRound = document.getElementById('btnEndRound');

/* ---------- helpers ---------- */
function createCategoryButton(name){
  const el = document.createElement('div');
  el.className = 'cat-btn';
  el.innerHTML = `<div class="title">${name}</div><div class="count">${CATEGORIES[name].length} palabras</div>`;
  el.onclick = () => selectCategory(name);
  return el;
}
function updateSelectedCategory(){
  selectedCategoryEl.textContent = state.category ? state.category : 'Ninguna';
  if(state.category){
    previewCard.style.display = 'block';
    previewWords.innerHTML = '';
    (CATEGORIES[state.category] || []).slice(0,20).forEach(w=>{
      const span = document.createElement('span');
      span.style.padding='6px 10px';
      span.style.borderRadius='8px';
      span.style.background='rgba(255,255,255,0.04)';
      span.style.fontSize='13px';
      span.style.margin='4px';
      span.textContent=w;
      previewWords.appendChild(span);
    });
  } else {
    previewCard.style.display = 'none';
  }
}

/* render categories */
function renderCategories(filter=''){
  categoriesGrid.innerHTML = '';
  const keys = Object.keys(CATEGORIES).filter(k => k.toLowerCase().includes(filter.toLowerCase()));
  keys.forEach(k => categoriesGrid.appendChild(createCategoryButton(k)));
}
renderCategories();

/* search */
searchInput.addEventListener('input', (e)=> renderCategories(e.target.value) );

/* select category */
function selectCategory(name){
  state.category = name;
  updateSelectedCategory();
  // show players panel
  playersCard.style.display = 'block';
  window.scrollTo({top:0, behavior:'smooth'});
}

/* START players flow */
btnStartPlayers.addEventListener('click', ()=>{
  if(!state.category){
    alert('Eleg√≠ una categor√≠a primero en la columna derecha.');
    return;
  }
  playersCard.style.display = 'block';
});

/* CANCEL players input */
btnCancelPlayers.addEventListener('click', ()=>{
  playersCard.style.display = 'none';
});

/* RESET everything */
btnReset.addEventListener('click', ()=>{
  if(!confirm('Reiniciar la partida y borrar jugadores actuales?')) return;
  state = { category:null, players:[], secretWord:null, impostorCount:1, currentRevealIndex:0, active:false };
  playersCard.style.display='none';
  playersListCard.style.display='none';
  playersList.innerHTML='';
  selectedCategoryEl.textContent='Ninguna';
  previewCard.style.display='none';
  playersInput.value='';
  alert('Reiniciado.');
});

/* Assign roles */
btnAssign.addEventListener('click', ()=>{
  const raw = playersInput.value.trim();
  if(!raw){
    alert('Escribe al menos 3 jugadores, uno por l√≠nea.');
    return;
  }
  const lines = raw.split(/\n+/).map(l=>l.trim()).filter(l=>l);
  if(lines.length < 3){
    alert('Se necesitan al menos 3 jugadores.');
    return;
  }
  const impostors = parseInt(impostorsSelect.value) || 1;
  if(impostors >= lines.length){
    alert('La cantidad de impostores debe ser menor que la cantidad de jugadores.');
    return;
  }
  state.impostorCount = impostors;
  state.players = lines.map(n => ({ name:n, role:null, revealed:false }));
  // pick impostor indices
  const indices = [...Array(lines.length).keys()];
  shuffleArray(indices);
  const impostorIndices = indices.slice(0, impostors);

  // pick secret word
  const words = CATEGORIES[state.category] || [];
  const chosenWord = words[Math.floor(Math.random() * words.length)];
  state.secretWord = chosenWord;

  // assign roles
  state.players.forEach((p, idx) => {
    if(impostorIndices.includes(idx)){
      p.role = 'IMPOSTOR';
    } else {
      p.role = chosenWord;
    }
  });

  state.active = true;
  state.currentRevealIndex = 0;

  playersCard.style.display='none';
  playersListCard.style.display='block';
  renderPlayersList();
  // smooth scroll
  document.querySelector('#playersListCard').scrollIntoView({behavior:'smooth'});
});

/* render players */
function renderPlayersList(){
  playersList.innerHTML = '';
  state.players.forEach((p, i) => {
    const div = document.createElement('div');
    div.className = 'player-item';
    div.innerHTML = `<div class="player-name">${escapeHtml(p.name)}</div>
                     <div class="player-actions">
                        <button class="btn secondary" style="padding:8px 10px;font-weight:700" onclick="revealPlayer(${i})">Ver</button>
                     </div>`;
    playersList.appendChild(div);
  });
}

/* reveal one player */
function revealPlayer(index){
  const player = state.players[index];
  if(!player) return;
  revealName.textContent = player.name;
  if(player.role === 'IMPOSTOR'){
    revealRole.textContent = 'SOS EL IMPOSTOR';
    revealRole.classList.remove('word');
    revealRole.classList.add('impostor');
    revealRole.style.background = 'linear-gradient(90deg,#ff4d6d,#ff7a5a)';
    revealRole.style.color = '#fff';
  } else {
    revealRole.textContent = player.role;
    revealRole.classList.remove('impostor');
    revealRole.classList.add('word');
    revealRole.style.background = 'linear-gradient(90deg,#ffd66b,#ff9a3d)';
    revealRole.style.color = '#111';
  }
  // mark revealed
  state.players[index].revealed = true;
  revealModal.style.display = 'block';
}

/* hide reveal */
btnHideReveal.addEventListener('click', ()=>{
  revealModal.style.display = 'none';
});

/* end round / reset players */
btnEndRound.addEventListener('click', ()=>{
  if(!confirm('Finalizar ronda y limpiar jugadores?')) return;
  state.players = [];
  state.secretWord = null;
  state.active = false;
  state.currentRevealIndex = 0;
  playersListCard.style.display = 'none';
  playersList.innerHTML = '';
  playersInput.value = '';
  revealModal.style.display = 'none';
});

/* new round (keep category) */
btnNewRound.addEventListener('click', ()=>{
  if(!state.category){
    alert('Primero eleg√≠ una categor√≠a.');
    return;
  }
  if(!confirm('Iniciar nueva ronda (se borrar√°n los jugadores cargados)?')) return;
  state.players = [];
  playersListCard.style.display = 'none';
  playersList.innerHTML = '';
  playersInput.value = '';
});

/* utils */
function shuffleArray(a){
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i], a[j]] = [a[j], a[i]];
  }
}

/* small helper to escape text */
function escapeHtml(text){
  const map = { '&':'&amp;', '<':'&lt;', '>':'&gt;', '"':'&quot;', "'":'&#039;' };
  return text.replace(/[&<>"']/g, m => map[m]);
}

/* keyboard shortcut: press C to focus search */
document.addEventListener('keydown', (e)=>{
  if(e.key.toLowerCase() === 'c'){ searchInput.focus(); }
});

/* initial selected category: pick first */
(function init(){
  const keys = Object.keys(CATEGORIES);
  if(keys.length) state.category = keys[0];
  renderCategories();
  updateSelectedCategory();
})();

/* renderCategories function (used above) */
function renderCategories(){
  categoriesGrid.innerHTML = '';
  Object.keys(CATEGORIES).forEach(name=>{
    categoriesGrid.appendChild(createCategoryButton(name));
  });
}

</script>

</body>
</html>
